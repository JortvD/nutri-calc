(function(e){function t(t){for(var a,s,c=t[0],i=t[1],l=t[2],d=0,f=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"251f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(e,t,n,r,o,s){var c=Object(a["p"])("Calculator");return Object(a["k"])(),Object(a["c"])(c)}var o=n("3835"),s=(n("9911"),n("b0c0"),n("d3b7"),n("ddb0"),function(e){return Object(a["m"])("data-v-1182af8d"),e=e(),Object(a["l"])(),e}),c={class:"container text-start"},i={class:"row"},l={class:"col-md-9"},u=s((function(){return Object(a["f"])("hr",null,null,-1)})),d={class:"fw-bold"},f={class:"fw-bold"},b=Object(a["g"])(),h=s((function(){return Object(a["f"])("br",null,null,-1)})),p=["href"],O={class:"fw-bold"},g=Object(a["g"])(),j=s((function(){return Object(a["f"])("br",null,null,-1)})),v=s((function(){return Object(a["f"])("hr",null,null,-1)})),m={id:"calculate"},S={class:"nav nav-tabs",id:"myTab",role:"tablist"},w=["onClick"],k={class:"tab-content"},y={class:"tab-pane fade show active py-3"},C={class:"row nutriprops-row"},P={class:"col-lg-4 col-md-6"},I=["name","id","onUpdate:modelValue"],x={class:"input-group-text col-4"},T={class:"col-lg-4 col-md-6"},N=["name","id","onUpdate:modelValue"],_={class:"input-group-text"},M={class:"col-md-2 d-none d-md-block ms-5"},q=["src"],F={class:"col-md-6"},V=["disabled"],D={key:1,class:"result-container",ref:"resultContainer"},B=s((function(){return Object(a["f"])("hr",null,null,-1)})),U={class:"fst-italic"},L=["src"],A={class:"row score-row"},R={class:"col-md-2"},z={class:"text-start score-result"},E={class:"col-md-10"},J=s((function(){return Object(a["f"])("h2",null,"Details",-1)})),H={class:"row summary"},G={ref:"resultNav",class:"col-md-3 col-xs-12 d-sm-block d-none points-list"},Y={class:"mt-2"},X={class:"nav flex-column result-nav negative"},$=["href"],Z={class:"result-nav-text"},W={class:"mt-2"},K={class:"nav flex-column result-nav positive"},Q=["href"],ee={class:"result-nav-text"},te={class:"col-md-9 results-content","data-bs-spy":"scroll","data-bs-target":"#list-example","data-bs-offset":"0"};function ne(e,t,n,r,s,ne){var ae=Object(a["p"])("modal"),re=Object(a["p"])("intro"),oe=Object(a["p"])("InputRow"),se=Object(a["p"])("ResultChart"),ce=Object(a["p"])("score-explanation"),ie=Object(a["p"])("Badge"),le=Object(a["p"])("inline-icon"),ue=Object(a["p"])("Scale");return Object(a["k"])(),Object(a["e"])("div",c,[s.showModalInfoFor?(Object(a["k"])(),Object(a["c"])(ae,{key:0,title:ne.displayNames(s.showModalInfoFor),mode:s.showModalInfoFor,params:s.modalParams,vars:s.modalParams,onCloseModal:t[0]||(t[0]=function(e){return ne.resetModal()})},null,8,["title","mode","params","vars"])):Object(a["d"])("",!0),Object(a["f"])("div",i,[Object(a["f"])("div",l,[Object(a["f"])("h1",null,Object(a["q"])(ne.displayNames("heading")),1),Object(a["h"])(re),u,Object(a["f"])("div",null,[Object(a["f"])("p",null,[Object(a["f"])("span",d,Object(a["q"])(ne.displayNames("last_updated")),1),Object(a["g"])(": "+Object(a["q"])(s.updateTime),1)]),Object(a["f"])("p",null,[Object(a["f"])("span",f,Object(a["q"])(ne.displayNames("sources_used")),1),b,h,(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(s.sources,(function(e){return Object(a["k"])(),Object(a["e"])("a",{href:e.link,class:"text-decoration-none",target:"_blank",key:e.name},[Object(a["g"])(Object(a["q"])(e.name)+" ",1),Object(a["f"])("span",O,"("+Object(a["q"])(ne.trans(e.language))+")",1),g,j],8,p)})),128))])])])]),v,Object(a["f"])("div",null,[Object(a["f"])("h2",m,Object(a["q"])(ne.trans("calculate")),1),Object(a["f"])("ul",S,[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(s.tableNames,(function(e){return Object(a["k"])(),Object(a["e"])("li",{class:"nav-item",role:"presentation",key:e},[Object(a["f"])("button",{class:Object(a["i"])("nav-link px-2 "+(s.mode===e?"active":"")),id:"general-tab",onClick:function(t){s.mode=e,s.name=ne.getPlaceholderText(s.mode)},type:"button",role:"tab","aria-controls":"","aria-selected":"true"},Object(a["q"])(ne.displayNames(e)),11,w)])})),128))]),Object(a["f"])("div",k,[Object(a["f"])("div",y,[Object(a["f"])("h4",null,[Object(a["g"])(Object(a["q"])(ne.displayNames("calculate_for"))+"  ",1),Object(a["t"])(Object(a["f"])("input",{class:"form-control w-50 d-inline",title:"Gib einen Namen für das Lebensmittel an",type:"text",name:"name",id:"productName","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.name=e}),onFocus:t[2]||(t[2]=function(e){return e.target.setSelectionRange(0,e.target.value.length)})},null,544),[[a["r"],s.name]])]),Object(a["f"])("p",null,Object(a["q"])(ne.modeInfoText),1),Object(a["f"])("form",null,[Object(a["f"])("div",C,[Object(a["f"])("div",P,[Object(a["f"])("h4",null,Object(a["q"])(ne.displayNames("negative_inputs")),1),(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(ne.currentTable.negativeInputs(),(function(e){var n=Object(o["a"])(e,1),r=n[0];return Object(a["k"])(),Object(a["c"])(oe,{key:r,class:"row g-2",name:r,"has-info-modal":ne.hasInfoModal(r),"label-name":ne.inputDisplayNames(r),onOpenModal:function(e){return s.showModalInfoFor=r}},{default:Object(a["s"])((function(){return[Object(a["t"])(Object(a["f"])("input",{class:Object(a["i"])("form-control "+(ne.isValid(r)?"":"is-invalid")),required:"",type:"text",name:r,id:r,"onUpdate:modelValue":function(e){return s.nutritionalInfo[r]=e},onFocus:t[3]||(t[3]=function(e){return e.target.setSelectionRange(0,e.target.value.length)})},null,42,I),[[a["r"],s.nutritionalInfo[r]]]),Object(a["f"])("span",x,Object(a["q"])(ne.getUnit(r)),1)]})),_:2},1032,["name","has-info-modal","label-name","onOpenModal"])})),128))]),Object(a["f"])("div",T,[Object(a["f"])("h4",null,Object(a["q"])(ne.displayNames("positive_inputs")),1),(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(ne.currentTable.positiveInputs(),(function(e){var n=Object(o["a"])(e,1),r=n[0];return Object(a["k"])(),Object(a["c"])(oe,{key:r,class:"row g-2",name:r,"has-info-modal":ne.hasInfoModal(r),"label-name":ne.inputDisplayNames(r),onOpenModal:function(e){return s.showModalInfoFor=r}},{default:Object(a["s"])((function(){return[Object(a["t"])(Object(a["f"])("input",{class:Object(a["i"])("form-control "+(ne.isValid(r)?"":"is-invalid")),type:"text",name:r,required:"",id:r,"onUpdate:modelValue":function(e){return s.nutritionalInfo[r]=e},onFocus:t[4]||(t[4]=function(e){return e.target.setSelectionRange(0,e.target.value.length)})},null,42,N),[[a["r"],s.nutritionalInfo[r]]]),Object(a["f"])("span",_,Object(a["q"])(ne.getUnit(r)),1)]})),_:2},1032,["name","has-info-modal","label-name","onOpenModal"])})),128))]),Object(a["f"])("div",M,[Object(a["f"])("img",{src:ne.currentImage,alt:""},null,8,q)])])]),Object(a["f"])("div",{class:Object(a["i"])("row mt-3 "+ne.classesCalcElem)},[Object(a["f"])("div",F,[Object(a["f"])("button",{class:"btn btn-success btn-lg",onClick:t[5]||(t[5]=function(e){return ne.calculateScore()}),disabled:!ne.allFieldsValid()},Object(a["q"])(ne.trans("calculate_score")),9,V)])],2)])])]),s.result?(Object(a["k"])(),Object(a["e"])("div",D,[B,Object(a["f"])("h2",null,[Object(a["g"])(Object(a["q"])(ne.trans("result_for"))+" ",1),Object(a["f"])("span",U,Object(a["q"])(s.result.name),1)]),Object(a["f"])("h3",null,[Object(a["g"])(Object(a["q"])(ne.trans("category"))+" : ",1),Object(a["f"])("img",{class:"h-1",src:ne.getImageForMode(s.result.mode),alt:""},null,8,L),Object(a["g"])(" "+Object(a["q"])(ne.trans(s.result.mode)),1)]),Object(a["f"])("div",A,[Object(a["f"])("div",R,[Object(a["f"])("h3",null,Object(a["q"])(ne.trans("score")),1),Object(a["f"])("div",z,[Object(a["f"])("div",null,[Object(a["f"])("span",{class:Object(a["i"])("score "+s.result.letterScore.points)},Object(a["q"])(s.result.letterScore.points),3)])])]),Object(a["f"])("div",E,[Object(a["f"])("h3",null,Object(a["q"])(ne.trans("distribution_points")),1),ne.resultColors?(Object(a["k"])(),Object(a["c"])(se,{key:0,colors:ne.resultColors,"result-data":s.result},null,8,["colors","result-data"])):Object(a["d"])("",!0),Object(a["f"])("h3",null,Object(a["q"])(ne.trans("explanation")),1),Object(a["h"])(ce,{"v-bind":s.result,result:s.result},null,8,["v-bind","result"])])]),J,Object(a["f"])("div",H,[Object(a["f"])("div",G,[Object(a["f"])("h5",Y,Object(a["q"])(ne.trans("negative_inputs")),1),Object(a["f"])("nav",X,[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(s.result.negatives.keys(),(function(e){return Object(a["k"])(),Object(a["e"])("a",{key:e,class:"nav-link link-danger",href:"#"+e+"Result"},[Object(a["f"])("span",Z,Object(a["q"])(ne.displayNames(e))+": "+Object(a["q"])(s.result.negatives.get(e).value.toLocaleString())+Object(a["q"])(ne.getUnit(e)),1),ne.getColorForProp(e)?(Object(a["k"])(),Object(a["c"])(ie,{key:0,classes:"float-end","badge-data":ne.getColorForProp(e),"is-positive":!1},null,8,["badge-data"])):Object(a["d"])("",!0)],8,$)})),128))]),Object(a["f"])("h5",W,Object(a["q"])(ne.trans("positive_inputs")),1),Object(a["f"])("nav",K,[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(s.result.positives.keys(),(function(e){return Object(a["k"])(),Object(a["e"])("a",{key:e,class:"nav-link link-success","aria-current":"page",href:"#"+e+"Result"},[Object(a["f"])("span",ee,Object(a["q"])(ne.trans(e))+": "+Object(a["q"])(s.result.positives.get(e).value.toLocaleString())+Object(a["q"])(ne.getUnit(e)),1),ne.getColorForProp(e)?(Object(a["k"])(),Object(a["c"])(ie,{key:0,classes:"float-end","badge-data":ne.getColorForProp(e),"is-positive":!0},null,8,["badge-data"])):Object(a["d"])("",!0)],8,Q)})),128))]),Object(a["f"])("a",{class:"nav-link link-dark clickable",onClick:t[6]||(t[6]=function(e){return ne.initModal("share",{shareUrl:s.shareUrl})})},[Object(a["h"])(le,{type:"share"}),Object(a["g"])(" "+Object(a["q"])(ne.trans("share_result")),1)])],512),Object(a["f"])("div",te,[Object(a["h"])(ue,{data:s.result.letterScore.points,fractal:s.result.letterScore.fractal,value:s.result.letterScore.value,name:ne.displayNames("letterScore"),scale:ne.currentPointScale,"was-used-in-calculation":!0,"score-unit":"","scale-classes":" text-white",red:"#d9411a",green:"#008043",yellow:"#f2c011","short-name":"letterScore","details-shown-initial":ne.resultNavVisible,"score-colors-override":s.originalScoreColors,"hide-badge":!0,unit:ne.getUnit("letterScore")},null,8,["data","fractal","value","name","scale","details-shown-initial","score-colors-override","unit"]),Object(a["f"])("h3",null,Object(a["q"])(ne.trans("negative_inputs")),1),(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(s.result.negatives,(function(e){var t=Object(o["a"])(e,2),n=t[0],r=t[1];return Object(a["k"])(),Object(a["c"])(ue,{onColorsCalculated:function(e){return ne.appendPropColor(e,n)},data:r.points,fractal:r.fractal,value:r.value,name:ne.displayNames(n),scale:ne.resultScale.n[n].scale,key:n,"is-positive":!1,"short-name":n,"was-used-in-calculation":ne.wasUsedInCalculation(n),"details-shown-initial":ne.resultNavVisible,unit:ne.getUnit(n),"score-unit":"P"},null,8,["onColorsCalculated","data","fractal","value","name","scale","short-name","was-used-in-calculation","details-shown-initial","unit"])})),128)),Object(a["f"])("h3",null,Object(a["q"])(ne.trans("positive_inputs")),1),(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(s.result.positives,(function(e){var t=Object(o["a"])(e,2),n=t[0],r=t[1];return Object(a["k"])(),Object(a["c"])(ue,{onColorsCalculated:function(e){return ne.appendPropColor(e,n)},data:r.points,fractal:r.fractal,value:r.value,name:ne.displayNames(n),scale:ne.resultScale.p[n].scale,key:n,"is-positive":!0,"short-name":n,"was-used-in-calculation":ne.wasUsedInCalculation(n),unit:ne.getUnit(n),"details-shown-initial":ne.resultNavVisible,"score-unit":"P"},null,8,["onColorsCalculated","data","fractal","value","name","scale","short-name","was-used-in-calculation","unit","details-shown-initial"])})),128))])])],512)):Object(a["d"])("",!0)])}var ae=n("b85c"),re=n("5530"),oe=(n("b64b"),n("3ca3"),n("2b3d"),n("9861"),n("4fad"),n("25f0"),n("ac1f"),n("5319"),{class:"result"}),se=["id"],ce={key:0,class:"details fade-in"},ie={class:"fw-bolder"},le=Object(a["g"])(")"),ue=["onClick"],de={key:1,class:"details-container"},fe={class:"gauge-row"},be={class:"left-container"},he={key:0},pe={class:"text-center"},Oe={key:0},ge={key:1},je={class:"gauge-container"},ve={class:"right-container"},me={key:0},Se={class:"text-center"},we={key:0},ke={key:1};function ye(e,t,n,r,o,s){var c=Object(a["p"])("Badge"),i=Object(a["p"])("Arrow"),l=Object(a["p"])("Gauge");return Object(a["k"])(),Object(a["e"])("div",oe,[Object(a["f"])("div",null,[Object(a["f"])("a",{id:n.shortName+"Result"},[Object(a["f"])("h4",null,[Object(a["g"])(Object(a["q"])(n.name)+": "+Object(a["q"])(n.value)+Object(a["q"])(n.unit)+" ",1),n.hideBadge?Object(a["d"])("",!0):(Object(a["k"])(),Object(a["c"])(c,{key:0,"badge-data":s.getBadgeData(),"is-positive":n.isPositive},null,8,["badge-data","is-positive"])),Object(a["f"])("span",{onClick:t[0]||(t[0]=function(e){return o.detailsShown=!o.detailsShown}),class:"float-end clickable"},Object(a["q"])(o.detailsShown?"-":"+"),1)])],8,se)]),o.detailsShown?(Object(a["k"])(),Object(a["e"])("div",ce,[Object(a["f"])("h5",null,[Object(a["g"])(Object(a["q"])(s.trans("score_limits"))+" ",1),Object(a["f"])("small",null,[Object(a["g"])("("+Object(a["q"])(s.trans("higher_is"))+" ",1),Object(a["f"])("span",ie,Object(a["q"])(s.trans(n.isPositive?"better":"worse")),1),le])]),Object(a["f"])("p",null,Object(a["q"])(s.trans("score_limits_info")),1),Object(a["f"])("div",null,[o.showAll?(Object(a["k"])(),Object(a["e"])("span",{key:1,class:"toggler text-primary float-end",onClick:t[2]||(t[2]=function(e){return s.hideAllDetails()})},Object(a["q"])(s.trans("hide_limits")),1)):(Object(a["k"])(),Object(a["e"])("span",{key:0,class:"toggler text-primary float-end",onClick:t[1]||(t[1]=function(e){return s.showAllDetails()})},Object(a["q"])(s.trans("show_limits")),1)),Object(a["f"])("div",{class:Object(a["i"])("scale "+n.scaleClasses)},[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(s.totalSections,(function(e){return Object(a["k"])(),Object(a["e"])("div",{class:"scale-child",key:e,style:Object(a["j"])("background-color: "+s.colorCodes[e]),onClick:function(t){return s.toggleDetailsOfScore(e)}},[s.showBar&&s.isActualScore(e-1)?(Object(a["k"])(),Object(a["e"])("div",{key:0,class:"marker",style:Object(a["j"])("left:"+100*n.fractal+"%;")},null,4)):Object(a["d"])("",!0),s.isSelectedScore(e)?(Object(a["k"])(),Object(a["e"])("div",de,[Object(a["f"])("div",{class:Object(a["i"])("score"+(s.isActualScore(e-1)?" active":""))},Object(a["q"])(s.scores[e-1]),3),Object(a["f"])("div",null,Object(a["q"])(s.getRangeString(e)),1)])):(Object(a["k"])(),Object(a["e"])("span",{key:2,class:Object(a["i"])(s.classes(e-1))},Object(a["q"])(s.scores[e-1]),3))],12,ue)})),128))],2)]),Object(a["f"])("div",null,[Object(a["f"])("h5",null,Object(a["q"])(s.trans("tendency")),1),Object(a["f"])("p",null,Object(a["q"])(s.trans("tendency_info")),1),Object(a["f"])("div",fe,[Object(a["f"])("div",be,[s.isLowest?Object(a["d"])("",!0):(Object(a["k"])(),Object(a["e"])("div",he,[Object(a["h"])(i,{"gradient-id":n.shortName+"leftArrow","color-start":s.gaugeLower,"color-end":s.gaugeLower},null,8,["gradient-id","color-start","color-end"]),Object(a["f"])("div",pe,[s.lowerBound-n.value!==0?(Object(a["k"])(),Object(a["e"])("span",Oe,Object(a["q"])(s.trans("diff_from_points",{diff:s.round(s.lowerBound-n.value).toString()+n.unit,points:s.previousScore.toString()+n.scoreUnit})),1)):(Object(a["k"])(),Object(a["e"])("span",ge,Object(a["q"])(s.trans("bordering_on",{points:s.previousScore.toString()+n.scoreUnit})),1))])]))]),Object(a["f"])("div",je,[Object(a["h"])(l,{positive:n.isPositive,"lower-color":s.gaugeLower,"upper-color":s.gaugeUpper,"gradient-id":s.gradientId,percent:100*n.fractal},null,8,["positive","lower-color","upper-color","gradient-id","percent"])]),Object(a["f"])("div",ve,[s.isHighest?Object(a["d"])("",!0):(Object(a["k"])(),Object(a["e"])("div",me,[Object(a["h"])(i,{"gradient-id":n.shortName+"rightArrow","color-start":s.gaugeUpper,"color-end":s.gaugeUpper},null,8,["gradient-id","color-start","color-end"]),Object(a["f"])("div",Se,[s.lowerBound-n.value!==0?(Object(a["k"])(),Object(a["e"])("span",we,Object(a["q"])(s.trans("diff_from_points",{diff:"+"+s.round(s.upperBound-n.value).toString()+n.unit,points:s.nextScore.toString()+n.scoreUnit})),1)):(Object(a["k"])(),Object(a["e"])("span",ke,Object(a["q"])(s.trans("bordering_on",{points:s.nextScore.toString()+n.scoreUnit})),1))])]))])])])])):Object(a["d"])("",!0)])}var Ce=n("2909"),Pe=(n("a9e3"),n("99af"),n("d81d"),n("4d90"),n("7db0"),n("4ec9"),n("262e")),Ie=n("2caf"),xe=n("d4ec"),Te=n("bee2"),Ne=n("ade3");n("4de4");function _e(e,t,n){var a=null,r=t[1],o=t[0]===-1/0?0:t[0],s=e-o,c=n;return r!==1/0&&(c=r-o),a=Me(s,c),{value:e,fractal:a,points:t[2]}}function Me(e,t){var n=e/t;return n<1?n:1}function qe(e,t){var n,a=e[e.length-2],r=a[1]-a[0],o=Object(ae["a"])(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(3===s.length&&t>s[0]&&t<=s[1])return _e(t,s,r);if(2===s.length&&t<s[0])return s[1]}}catch(c){o.e(c)}finally{o.f()}return console.log(e,t),null}function Fe(e){return 1e3*e/2.5}var Ve=0,De=1,Be=2,Ue=3;function Le(e,t){var n=e<11||e>=11&&5===t.points,a=Ve;return n&&(a=e<11?De:Be),{applyProtein:n,reason:a}}var Ae={BOTH:0,ONLY_INPUT:1,ONLY_OUTPUT:2};function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae.BOTH;this.scale=e,this.mode=t}var ze=new Re([[-1/0,335,0],[335,670,1],[670,1005,2],[1005,1340,3],[1340,1675,4],[1675,2010,5],[2010,2345,6],[2345,2680,7],[2680,3015,8],[3015,3350,9],[3350,1/0,10]]),Ee=new Re([[-1/0,4.5,0],[4.5,9,1],[9,13.5,2],[13.5,18,3],[18,22.5,4],[22.5,27,5],[27,31,6],[31,36,7],[36,40,8],[40,45,9],[45,1/0,10]]),Je=new Re([[-1/0,1,0],[1,2,1],[2,3,2],[3,4,3],[4,5,4],[5,6,5],[6,7,6],[7,8,7],[8,9,8],[9,10,9],[10,1/0,10]]),He=new Re([[-1/0,90,0],[90,180,1],[180,270,2],[270,360,3],[360,450,4],[450,540,5],[540,630,6],[630,720,7],[720,810,8],[810,900,9],[900,1/0,10]],Ae.ONLY_OUTPUT),Ge=new Re(null,Ae.ONLY_INPUT),Ye=new Re([[-1/0,1.6,0],[1.6,3.2,1],[3.2,4.8,2],[4.8,6.4,3],[6.4,8,4],[8,1/0,5]]),Xe=new Re([[-1/0,.9,0],[.9,1.9,1],[1.9,2.8,2],[2.8,3.7,3],[3.7,4.7,4],[4.7,1/0,5]]),$e=new Re([[-1/0,40,0],[40,60,1],[60,80,2],[80,1/0,5]]),Ze=[[-1/0,-1,"A"],[-1,2,"B"],[2,10,"C"],[10,18,"D"],[18,1/0,"E"]],We=function(){function e(){Object(xe["a"])(this,e)}return Object(Te["a"])(e,null,[{key:"getInputNames",value:function(e){return Object.entries(e).filter((function(e){var t=Object(o["a"])(e,2),n=t[1];return n.mode===Ae.BOTH||n.mode===Ae.ONLY_INPUT}))}},{key:"negativeInputs",value:function(){return this.getInputNames(this.nutriprops.n)}},{key:"positiveInputs",value:function(){return this.getInputNames(this.nutriprops.p)}},{key:"getBadValues",value:function(e){return{kjValue:qe(this.nutriprops.n.kJ.scale,e.kJ),sugarValue:qe(this.nutriprops.n.sugar.scale,e.sugar),satFatsValue:qe(this.nutriprops.n.satFats.scale,e.satFats),sodiumValue:qe(this.nutriprops.n.sodium.scale,Fe(e.salt))}}},{key:"getGoodValues",value:function(e){return{protValue:qe(this.nutriprops.p.protein.scale,e.protein),fiberValue:qe(this.nutriprops.p.fiber.scale,e.fiber),goodStuffValue:qe(this.nutriprops.p.goodStuff.scale,e.goodStuff)}}}]),e}();Object(Ne["a"])(We,"nutriprops",{n:{kJ:ze,sugar:Ee,satFats:Je,sodium:He,salt:Ge},p:{protein:Ye,fiber:Xe,goodStuff:$e}}),Object(Ne["a"])(We,"pointsToScore",Ze);var Ke=function(e){Object(Pe["a"])(n,e);var t=Object(Ie["a"])(n);function n(){return Object(xe["a"])(this,n),t.apply(this,arguments)}return Object(Te["a"])(n,null,[{key:"calculateScore",value:function(e){var t=this.getBadValues(e),n=t.kjValue,a=t.sugarValue,r=t.satFatsValue,o=t.sodiumValue,s=this.getGoodValues(e),c=s.protValue,i=s.fiberValue,l=s.goodStuffValue,u=n.points+a.points+r.points+o.points,d=Le(u,l),f=u-l.points-i.points;return d.applyProtein&&(f-=c.points),{negatives:new Map([["kJ",n],["sugar",a],["satFats",r],["sodium",o]]),positives:new Map([["protein",c],["fiber",i],["goodStuff",l]]),badScore:u,applyProtein:d.applyProtein,proteinAppliedReason:d.reason,totalScore:f,letterScore:qe(this.pointsToScore,f)}}}]),n}(We),Qe=function(e){Object(Pe["a"])(n,e);var t=Object(Ie["a"])(n);function n(){return Object(xe["a"])(this,n),t.apply(this,arguments)}return Object(Te["a"])(n,null,[{key:"calculateScore",value:function(e){var t=this.getBadValues(e),n=t.kjValue,a=t.sugarValue,r=t.satFatsValue,o=t.sodiumValue,s=this.getGoodValues(e),c=s.protValue,i=s.fiberValue,l=s.goodStuffValue,u=n.points+a.points+r.points+o.points,d=c.points+l.points+i.points,f=u-d;return{negatives:new Map([["kJ",n],["sugar",a],["satFats",r],["sodium",o]]),positives:new Map([["protein",c],["fiber",i],["goodStuff",l]]),badScore:u,applyProtein:!0,proteinAppliedReason:Ue,totalScore:f,letterScore:qe(this.pointsToScore,f)}}}]),n}(We),et=function(e){Object(Pe["a"])(n,e);var t=Object(Ie["a"])(n);function n(){return Object(xe["a"])(this,n),t.apply(this,arguments)}return Object(Te["a"])(n,null,[{key:"getBadValues",value:function(e){var t=e.satFats/e.totalFats*100;return{kjValue:qe(this.nutriprops.n.kJ.scale,e.kJ),sugarValue:qe(this.nutriprops.n.sugar.scale,e.sugar),ratioValue:qe(this.nutriprops.n.ratioSatFats.scale,t),sodiumValue:qe(this.nutriprops.n.sodium.scale,Fe(e.salt))}}},{key:"calculateScore",value:function(e){var t=this.getBadValues(e),n=t.kjValue,a=t.sugarValue,r=t.ratioValue,o=t.sodiumValue,s=this.getGoodValues(e),c=s.protValue,i=s.fiberValue,l=s.goodStuffValue,u=n.points+a.points+r.points+o.points,d=Le(u,l),f=l.points+i.points+(d.applyProtein?c.points:0),b=u-f;return{negatives:new Map([["kJ",n],["sugar",a],["ratioSatFats",r],["sodium",o]]),positives:new Map([["protein",c],["fiber",i],["goodStuff",l]]),badScore:u,applyProtein:d.applyProtein,proteinAppliedReason:d.reason,totalScore:b,letterScore:qe(this.pointsToScore,b)}}}]),n}(We);Object(Ne["a"])(et,"nutriprops",{n:{kJ:ze,sugar:Ee,satFats:Je,sodium:He,totalFats:new Re(null,Ae.ONLY_INPUT),salt:Ge,ratioSatFats:new Re([[-1/0,10,0],[10,16,1],[16,22,2],[22,28,3],[28,34,4],[34,40,5],[40,46,6],[46,52,7],[52,58,8],[58,64,9],[64,1/0,10]],Ae.ONLY_OUTPUT)},p:{protein:Ye,fiber:Xe,goodStuff:$e}});var tt=function(e){Object(Pe["a"])(n,e);var t=Object(Ie["a"])(n);function n(){return Object(xe["a"])(this,n),t.apply(this,arguments)}return Object(Te["a"])(n,null,[{key:"calculateScore",value:function(e){var t=this.getBadValues(e),n=t.kjValue,a=t.sugarValue,r=t.satFatsValue,o=t.sodiumValue,s=this.getGoodValues(e),c=s.protValue,i=s.fiberValue,l=s.goodStuffValue,u=n.points+a.points+r.points+o.points,d=Le(u,l),f=l.points+i.points+(d.applyProtein?c.points:0),b=u-f;return{negatives:new Map([["kJ",n],["sugar",a],["satFats",r],["sodium",o]]),positives:new Map([["protein",c],["fiber",i],["goodStuff",l]]),badScore:u,applyProtein:d.applyProtein,proteinAppliedReason:d.reason,totalScore:b,letterScore:qe(this.pointsToScore,b)}}}]),n}(We);function nt(e){switch(e){case"kJ":return"kJ";case"sodium":return"mg";case"ratioSatFats":return"%";case"letterScore":return"P";default:return"g"}}function at(e,t){return"protein"!==e||t.applyProtein}Object(Ne["a"])(tt,"nutriprops",{n:{kJ:new Re([[-1/0,0,0],[0,30,1],[30,60,2],[60,90,3],[90,120,4],[120,150,5],[150,180,6],[180,210,7],[210,240,8],[240,270,9],[270,1/0,10]]),sugar:new Re([[-1/0,0,0],[0,1.5,1],[1.5,3,2],[3,4.5,3],[4.5,6,4],[6,7.5,5],[7.5,9,6],[9,10.5,7],[10.5,12,8],[12,13.5,9],[13.5,1/0,10]]),salt:Ge,satFats:Je,sodium:He},p:{protein:Ye,fiber:Xe,goodStuff:new Re([[-1/0,40,0],[40,60,2],[60,80,4],[80,1/0,10]])}}),Object(Ne["a"])(tt,"pointsToScore",[[-1/0,-1/0,"A"],[-1/0,2,"B"],[3,5,"C"],[5,9,"D"],[9,1/0,"E"]]);var rt={kJ:"kJ",kcal:"Calories",sugar:"Sugar",satFats:"Saturated Fat",totalFats:"Fat (total)",ratioSatFats:"Percentage of Saturated Fats",sodium:"Sodium",salt:"Salt",protein:"Protein",fiber:"Fiber",goodStuff:"Vegetables, fruit, nuts",cheese:"Dairy Products",general:"Solid Foods",fats:"Fats",drinks:"Drinks",cheesePlaceholder:"a dairy product",generalPlaceholder:"a solid food",fatsPlaceholder:"a fat",drinksPlaceholder:"a drink",name:"name",letterScore:"Total Score",share:"Share result",heading:"Nutri Score Calculator",calculate_now:"Calculate now",calculate_score:"Calculate Score",last_updated:"Last updated",sources_used:"Sources used",calculate:"Calculate",calculate_for:"Calculate for ",negative_inputs:"Negative Ingredients",positive_inputs:"Positive Ingredients",result_for:"Result for",category:"Category",score:"Score",distribution_points:"Distribution of Points",explanation:"Explanation",details:"Details",score_limits:"Score/Scale",higher_is:"more is",better:"better",worse:"worse",show_limits:"Show Scale",hide_limits:"Hide Scale",score_limits_info:"This scale shows the limits for the different scores",tendency:"Trend",tendency_info:"This diagram shows the tendency of the score. The assignment of points is done step by step. Therefore, it is shown here whether the value tends to the better or worse score..",diff_from_points:"diff away from points",bordering_on:"bordering on points",share_result:"Share Result",de:"german",en:"english"},ot=new Map([[Ve,"because it is not a dairy product, the number of negative points is greater than 11 and the product consists of less than 80% fruit,vegetables or nuts."],[De,"because the number of negative points is less than 11 points"],[Be,"because the negative sum is greater than 11 points, but the product consists of more than 80% fruit, vegetables or nuts"],[Ue,"because the protein content of dairy products is always included"]]),st={kJ:"Beschreibt die Energie eines Lebensmittels und wird negativ gewertet.",drinks:'Here the Nutri-Score can be calculated for beverages such as teas, lemonades and juices. Dairy drinks are not calculated here, but via the "Dairy products" category. The Nutri-Score for water is an exception: it is always A. Water is the only beverage that can achieve the score A.',cheese:'Here the Nutri-Score can be calculated for dairy products such as milk drinks, cheese or yogurt. Cream and butter are calculated with the category "Fats".',fats:"Here the Nutri-Score can be calculated for foods with high fat content like cream, oils or butter.",general:'The "General" category is used to calculate the Nutri-Score for solid foods. There are separate calculation types for dairy products, fats and beverages.'},ct={kJ:"Der Energiegehalt des Lebensmittels",goodStuff:"Umfasst Obst, Gemüse, Hülsenfüchte, Vollkorn"};function it(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=null!==(t=rt[e])&&void 0!==t?t:e;if(null!==n)for(var r=0,s=Object.entries(n);r<s.length;r++){var c=Object(o["a"])(s[r],2),i=c[0],l=c[1];a=a.replace(i,l)}return a}function lt(e){var t;return null!==(t=st[e])&&void 0!==t?t:"Lorem Ipsum sit dolor amet..."}function ut(e){var t;return null!==(t=ct[e])&&void 0!==t?t:""}function dt(e){return ft(e+"Placeholder")}function ft(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n?null!==(t=rt[e])&&void 0!==t?t:e:rt[e]+"(not counted)"}function bt(e){var t;return null!==(t=ot.get(e))&&void 0!==t?t:"invalid value"}var ht={viewBox:"0 0 125 100",xmlns:"http://www.w3.org/2000/svg"},pt=["fill"];function Ot(e,t,n,r,o,s){var c=Object(a["p"])("Gradient");return Object(a["k"])(),Object(a["e"])("svg",ht,[Object(a["f"])("defs",null,[Object(a["h"])(c,{id:n.gradientId,colorStart:n.colorStart,colorEnd:n.colorEnd,colorMiddle:n.colorMiddle},null,8,["id","colorStart","colorEnd","colorMiddle"])]),Object(a["f"])("path",{d:"M 0 50\n           L 50 100\n           L 50 75\n           L 125 75\n           L 125 25\n           L 50 25\n           L 50 0\n           Z",fill:"url(#".concat(n.gradientId,")")},null,8,pt)])}var gt=["id"],jt=["stop-color"],vt=["offset","stop-color"],mt=["stop-color"];function St(e,t,n,r,o,s){var c;return Object(a["k"])(),Object(a["e"])("linearGradient",{id:n.id},[n.colorStart?(Object(a["k"])(),Object(a["e"])("stop",{key:0,offset:"5%","stop-color":n.colorStart},null,8,jt)):Object(a["d"])("",!0),n.colorMiddle?(Object(a["k"])(),Object(a["e"])("stop",{key:1,offset:(null!==(c=n.middlePercent)&&void 0!==c?c:30)+"%","stop-color":n.colorMiddle},null,8,vt)):Object(a["d"])("",!0),n.colorEnd?(Object(a["k"])(),Object(a["e"])("stop",{key:2,offset:"95%","stop-color":n.colorEnd},null,8,mt)):Object(a["d"])("",!0)],8,gt)}var wt={name:"Gradient",props:{id:null,colorStart:null,colorMiddle:null,colorEnd:null,middlePercent:{type:Number,default:30}}},kt=n("d959"),yt=n.n(kt);const Ct=yt()(wt,[["render",St]]);var Pt=Ct,It={name:"Arrow",components:{Gradient:Pt},props:{gradientId:null,colorStart:null,colorMiddle:null,colorEnd:null}};const xt=yt()(It,[["render",Ot]]);var Tt=xt,Nt={viewBox:"0 0 100 50",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},_t=["fill"],Mt=Object(a["f"])("path",{d:"M 25 51\n           A 25 25, 0, 0, 1, 75 51\n           Z",fill:"white"},null,-1),qt=["d"],Ft=["d"];function Vt(e,t,n,r,o,s){var c=Object(a["p"])("Gradient");return Object(a["k"])(),Object(a["e"])("svg",Nt,[Object(a["f"])("defs",null,[Object(a["h"])(c,{id:n.gradientId,"color-start":n.lowerColor,"color-end":n.upperColor},null,8,["id","color-start","color-end"])]),Object(a["f"])("path",{d:"M 0 50\n           A 50 50, 0, 0, 1, 100 50\n           Z",fill:"url(#".concat(n.gradientId,")")},null,8,_t),Mt,Object(a["f"])("path",{fill:"#333",d:s.tachoNeedleSemiCirclePath},null,8,qt),Object(a["f"])("path",{d:s.tachoNeedlePath,stroke:"#333",fill:"#333"},null,8,Ft)])}var Dt={name:"Arrow",components:{Gradient:Pt},props:{positive:Boolean,upperColor:String,lowerColor:String,percent:Number,gradientId:String},data:function(){return{bestColor:"#3aff00",middleColor:"#ffff00",worstColor:"#ff7f00",innerCircleRadius:6,middleX:50,middleY:50,shiftDown:1,gaugeThickness:6}},computed:{tachoNeedlePath:function(){return"M ".concat(this.tachoXStart," ").concat(this.tachoYStart,"\n           L ").concat(this.tachoX," ").concat(this.tachoY," L ").concat(this.tachoXEndt," ").concat(this.tachoYEnd," Z")},tachoNeedleSemiCirclePath:function(){return"M ".concat(this.middleX-this.innerCircleRadius," ").concat(this.middleY+this.shiftDown,"\n           A  5, 5, 0, 0, 1, ").concat(this.middleX+this.innerCircleRadius," ").concat(this.middleY+this.shiftDown,"\n           Z")},tachoX:function(){var e=50,t=this.percent*(Math.PI/100),n=this.polarToCartesian(t,e);return console.log("coords",n),console.log("angle",t),50-n[0]},tachoY:function(){var e=50,t=this.percent*(Math.PI/100),n=this.polarToCartesian(t,e);return console.log("coords",n),console.log("angle",t),50-n[1]},tachoXStart:function(){var e=this.innerCircleRadius-1,t=(this.percent-this.gaugeThickness)*(Math.PI/100),n=this.polarToCartesian(t,e);return console.log("coords",n),console.log("angle",t),50-n[0]},tachoYStart:function(){var e=this.innerCircleRadius-1,t=(this.percent-this.gaugeThickness)*(Math.PI/100),n=this.polarToCartesian(t,e);return console.log("coords",n),console.log("angle",t),50-n[1]},tachoXEndt:function(){var e=this.innerCircleRadius-1,t=(this.percent+this.gaugeThickness)*(Math.PI/100),n=this.polarToCartesian(t,e);return console.log("coords",n),console.log("angle",t),50-n[0]},tachoYEnd:function(){var e=this.innerCircleRadius-1,t=(this.percent+this.gaugeThickness)*(Math.PI/100),n=this.polarToCartesian(t,e);return console.log("coords",n),console.log("angle",t),50-n[1]}},methods:{polarToCartesian:function(e,t){var n=t*Math.cos(e),a=t*Math.sin(e);return[n,a]}}};const Bt=yt()(Dt,[["render",Vt]]);var Ut=Bt,Lt=["title"];function At(e,t,n,r,o,s){var c;return Object(a["k"])(),Object(a["e"])("span",{title:s.title,class:Object(a["i"])(s.calculatedClasses),style:Object(a["j"])("background-color:"+n.badgeData.color)},[Object(a["g"])(Object(a["q"])(s.sign)+Object(a["q"])(s.value),1),Object(a["f"])("sup",null,Object(a["q"])(null!==(c=s.superscript)&&void 0!==c?c:" "),1)],14,Lt)}var Rt={name:"Badge",props:{badgeData:{value:Number,color:String,percentage:Number},classes:String,isPositive:Boolean},computed:{low:function(){return"▼"},high:function(){return"▲"},sign:function(){return this.isPositive?"-":"+"},value:function(){return this.badgeData.value>9?this.badgeData.value:" "+this.badgeData.value},calculatedClasses:function(){var e;return"badge fs-6 text-black-50 score-badge "+(null!==(e=this.classes)&&void 0!==e?e:"")},superscript:function(){return this.badgeData.percentage<25?this.low:this.badgeData.percentage>75?this.high:null},title:function(){if(this.superscript){var e=this.isPositive?"besseren":"schlechteren",t="höheren";return this.superscript===this.low&&(e=this.isPositive?"schlechteren":"besseren",t="niedrigeren"),'Das "'.concat(this.superscript,'" bedeutet, dass der Wert dieses Inhaltstoffes eher zur ').concat(t," bzw. ").concat(e," Punktzahl tendiert.")}return null}}};n("9b23");const zt=yt()(Rt,[["render",At],["__scopeId","data-v-140f04ce"]]);var Et=zt,Jt=300,Ht="#67ff00",Gt="#ffd200",Yt="#ff7f00",Xt={name:"Scale",components:{Badge:Et,Arrow:Tt,Gauge:Ut},props:{data:Number,fractal:Number,value:Number,scale:Array,name:String,shortName:String,isPositive:Boolean,unit:String,scoreUnit:String,scaleClasses:{default:"",type:String},hideBadge:{default:!1,type:Boolean},collapse:{default:!1,type:Boolean},green:{default:Ht,type:String},yellow:{default:Gt,type:String},red:{default:Yt,type:String},scoreColorsOverride:Array,wasUsedInCalculation:Boolean,detailsShownInitial:{default:!0,type:Boolean}},data:function(){return{detailsSelectedScoreIndex:Number,showAll:!1,badgeData:Object,detailsShown:this.detailsShownInitial}},emits:["colors-calculated"],computed:{sectionLength:function(){return Jt/this.totalSections},totalSections:function(){return this.scale.length},colorCodes:function(){if(this.scoreColorsOverride)return[""].concat(Object(Ce["a"])(this.scoreColorsOverride));for(var e=[],t=255,n=0;n<=this.totalSections;n++){var a=0,r=0;n>this.totalSections/2?(r=Math.ceil(n*(1/this.totalSections)*t*2),a=t-Math.ceil(n*(1/this.totalSections)*t/2)):(a=t,r=Math.ceil(n*(1/this.totalSections)*2.5*t));var o=0;e.push(this.toHexCode(r,a,o))}return this.isPositive&&(e=e.reverse()),e},lowerLimits:function(){return this.scale.map((function(e){return e[0]}))},scores:function(){return console.log(this.scale.map((function(e){return e[e.length-1]}))),this.scale.map((function(e){return e[e.length-1]}))},previousScore:function(){return this.scores[this.currentScoreIndex-1]},nextScore:function(){return this.scores[this.currentScoreIndex+1]},currentScoreIndex:function(){return this.scores.indexOf(this.data)},showBar:function(){return!(0===this.value||this.isHighest&&1===this.fractal)},gradientId:function(){return this.shortName+"GaugeGradient"},nextColor:function(){var e=this.scores.indexOf(this.data);return e>=0&&e++<this.scores.length?this.colorCodes[e]:this.colorCodes[0]},previousColor:function(){var e=this.scores.indexOf(this.data);return e>0?this.colorCodes[e-1]:this.colorCodes[0]},inFirstHalf:function(){return console.log(this.name,"idxOf",this.scores.indexOf(this.data)),console.log(this.scores.indexOf(this.data)<.5*this.scores.length),this.scores.indexOf(this.data)<.5*this.scores.length},gaugeLower:function(){return console.log("ifh",this.inFirstHalf),this.inFirstHalf?this.isPositive?this.red:this.green:this.yellow},gaugeUpper:function(){return this.inFirstHalf?this.yellow:this.isPositive?this.green:this.red},tableDataScore:function(){return this.getScoreDataFromTable(this.data)},lowerBound:function(){return this.tableDataScore[0]},upperBound:function(){return this.tableDataScore[1]},isLowest:function(){return!isFinite(this.lowerBound)},isHighest:function(){return!isFinite(this.upperBound)}},mounted:function(){this.detailsSelectedScoreIndex=-1},methods:{trans:it,toHexCode:function(e,t,n){return e=e>255?255:e,n=e>255?255:n,t=e>255?255:t,"#"+e.toString(16).padStart(2,"0")+t.toString(16).padStart(2,"0")+n.toString(16).padStart(2,"0")},isActualScore:function(e){return this.data===this.scores[e]},classes:function(e){var t="scale-item-score";return this.isActualScore(e)?t+" actual-score":t},isSelectedScore:function(e){return this.detailsSelectedScoreIndex===e||this.showAll},getScoreDataFromTable:function(e){return this.scale.find((function(t){return t[t.length-1]===e}))},getRangeString:function(e){var t=this.scale[e-1][0],n=this.scale[e-1][1];if(t===-1/0&&n===-1/0)return"n/a";var a=">",r="<";return t===-1/0?"".concat(r," ").concat(n).concat(this.unit):"".concat(a," ").concat(t).concat(this.unit)},round:function(e){return Math.round(100*e)/100},toggleDetailsOfScore:function(e){this.detailsSelectedScoreIndex===e?this.detailsSelectedScoreIndex=-1:this.detailsSelectedScoreIndex=e},showAllDetails:function(){this.detailsSelectedScoreIndex=-1,this.showAll=!0},hideAllDetails:function(){this.showAll=!1},getBadgeData:function(){var e={value:this.data+this.scoreUnit,percentage:100*this.fractal,color:this.colorCodes[this.currentScoreIndex]+(this.wasUsedInCalculation?"FF":"77")};return console.log(e),this.$emit("colors-calculated",e),e},getInfoText:function(e){return lt(e)}}};n("b21b");const $t=yt()(Xt,[["render",ye],["__scopeId","data-v-219724d9"]]);var Zt=$t,Wt=function(e){return Object(a["m"])("data-v-10df457e"),e=e(),Object(a["l"])(),e},Kt=Wt((function(){return Object(a["f"])("canvas",{id:"resultChart"},null,-1)})),Qt=[Kt];function en(e,t,n,r,o,s){return Object(a["k"])(),Object(a["e"])("div",null,Qt)}var tn=n("d549"),nn=.25,an={name:"ResultChart",props:{resultData:Object,colors:Object},methods:{getColor:function(e){return this.colors[e].color},getPoints:function(e){var t,n=(null!==(t=this.resultData.negatives.get(e))&&void 0!==t?t:this.resultData.positives.get(e)).points;0===n&&(n=nn);var a=this.resultData.negatives.get(e)?1:-1;return a*n},getDisplayNames:function(e){return ft(e,at(e,this.resultData))}},mounted:function(){var e=[].concat(Object(Ce["a"])(this.resultData.negatives.keys()),Object(Ce["a"])(this.resultData.positives.keys())),t=e.map(this.getDisplayNames),n={data:e.map(this.getPoints),backgroundColor:e.map(this.getColor)},a={type:"bar",data:{labels:t,datasets:[n]},options:{title:"Punkteverteilung",responsive:!0,scales:{y:{min:-5,max:10,label:"Punkte"}},plugins:{tooltip:{callbacks:{label:function(e){var t=e.dataset.label||"";if(t&&(t+=": "),null!==e.parsed.y){var n=Math.abs(e.parsed.y)===nn?0:e.parsed.y;t="".concat(t).concat(n," Punkte")}return t}}},legend:{display:!1}}}};new tn["a"](document.getElementById("resultChart"),a)}};n("ea7e");const rn=yt()(an,[["render",en],["__scopeId","data-v-10df457e"]]);var on=rn,sn=Object(a["g"])(" First the points for the negative ingredients are calculated: "),cn=Object(a["f"])("br",null,null,-1),ln={class:"fst-italic"},un=Object(a["g"])(" Then points are deducted for the positive ingredients. In the case of the positive ingredients, the points for protein were "),dn={key:0},fn=Object(a["f"])("br",null,null,-1),bn={class:"fst-italic"},hn=Object(a["f"])("br",null,null,-1),pn={class:"fst-italic"};function On(e,t,n,r,o,s){return Object(a["k"])(),Object(a["e"])("div",null,[Object(a["f"])("p",null,[sn,cn,Object(a["f"])("span",ln,Object(a["q"])(s.negativesSum)+" = "+Object(a["q"])(n.result.badScore)+"P",1)]),Object(a["f"])("p",null,[un,n.result.applyProtein?Object(a["d"])("",!0):(Object(a["k"])(),Object(a["e"])("span",dn,"not")),Object(a["g"])(" deducted, "+Object(a["q"])(s.proteinAppliedReason)+". The total score for the positive ingredients is therefore calculated as follows:",1),fn,Object(a["f"])("span",bn,Object(a["q"])(s.positivesSum)+" = "+Object(a["q"])(s.goodScore)+"P",1)]),Object(a["f"])("p",null,[Object(a["g"])(" To obtain the overall result, the sum of the good ingredients "+Object(a["q"])(s.goodScore)+"P is deducted from the sum of negative ingredients ("+Object(a["q"])(n.result.badScore)+"P): ",1),hn,Object(a["f"])("span",pn,Object(a["q"])(n.result.badScore)+"P - "+Object(a["q"])(s.goodScore)+"P = "+Object(a["q"])(n.result.totalScore)+"P",1)]),Object(a["f"])("p",null," This results in "+Object(a["q"])(n.result.letterScore.value)+" and thus corresponds to a Nutri-Score of "+Object(a["q"])(n.result.letterScore.points)+". ",1)])}n("159b"),n("a15b");var gn={name:"ScoreExplanation",props:{result:Object},computed:{negativesSum:function(){return this.getSumStringForMap(this.result.negatives)},positivesSum:function(){return this.getSumStringForMap(this.result.positives)},goodScore:function(){return Math.abs(this.result.totalScore-this.result.badScore)},proteinAppliedReason:function(){return bt(this.result.proteinAppliedReason)}},methods:{getSumStringForMap:function(e){var t=this,n=[];return e.forEach((function(e,a){return!at(a,t.result)||n.push("".concat(e.points,"P(").concat(ft(a),")"))})),n.join(" + ")}}};const jn=yt()(gn,[["render",On]]);var vn=jn,mn=function(e){return Object(a["m"])("data-v-24f7ebdf"),e=e(),Object(a["l"])(),e},Sn={class:"modal fade show",tabindex:"-1",role:"dialog",style:{display:"block"},"aria-hidden":"true"},wn={class:"modal-dialog modal-dialog-centered",role:"document"},kn={class:"modal-content"},yn={class:"modal-header"},Cn={class:"modal-title"},Pn={class:"modal-body"},In={key:0},xn=mn((function(){return Object(a["f"])("p",null," Here the amounts of fruits, vegetables and legumes as well as nuts and nuts are counted. ",-1)})),Tn=mn((function(){return Object(a["f"])("h5",null,"Limits",-1)})),Nn={class:"text-success"},_n=Object(a["g"])(" Fruits, vegetables and legumes, as well as nuts count in the calculation, but ... "),Mn={class:"text-danger"},qn=mn((function(){return Object(a["f"])("span",{class:"fw-bolder"}," starchy tubers (e.g. potatoes and sweet potatoes),, Quinoa und spices, flour from corn or legumes ",-1)})),Fn=Object(a["g"])(" do not count. "),Vn=mn((function(){return Object(a["f"])("hr",null,null,-1)})),Dn=mn((function(){return Object(a["f"])("h5",null,"Important infos",-1)})),Bn=mn((function(){return Object(a["f"])("p",null,[Object(a["f"])("span",{class:"fw-bolder"},"Pickled foods"),Object(a["g"])(" The liquid can only be included in the calculation if it is to be consumed. ")],-1)})),Un=mn((function(){return Object(a["f"])("p",null,[Object(a["f"])("span",{class:"fw-bolder"},"Cooked/Dried fruits/vegetables"),Object(a["g"])(" The manufacturer can decide for himself whether to include the weight of the cooked or uncooked ingredient. ")],-1)})),Ln=mn((function(){return Object(a["f"])("hr",null,null,-1)})),An=mn((function(){return Object(a["f"])("h5",null,"Processing/Preparation",-1)})),Rn={class:"text-success"},zn=Object(a["g"])(" contained whole, cut and peeled "),En={class:"text-success"},Jn=Object(a["g"])(" are frozen, dried, cooked and preserved in cans "),Hn={class:"text-warning"},Gn=Object(a["g"])(" Juices and purees, if the fruit and vegetables have only been pressed, pureed or otherwise chopped up "),Yn={class:"text-danger"},Xn=Object(a["g"])(" not concentrated syrup or highly processed fruits and vegetables. "),$n={key:1},Zn=mn((function(){return Object(a["f"])("p",null," Bei der Berechnung des Nutri-Scores wird der Natriumgehalt negativ gewertet. Dieser kann aus dem Salzgehalt berechnet werden. Geben Sie in dem Eingabefeld den von Hersteller angegebenen Salzgehalt an, die Anwendung berechnet dafür den Natriumgehalt (40% des enthaltenden Salzes). ",-1)})),Wn=[Zn],Kn={key:2},Qn=mn((function(){return Object(a["f"])("p",null," Mit dieser URL kannst du anderen deine Berechnung zeigen: ",-1)})),ea=["value"],ta={key:3};function na(e,t,n,r,o,s){var c=Object(a["p"])("inline-icon");return Object(a["k"])(),Object(a["e"])("div",Sn,[Object(a["f"])("div",wn,[Object(a["f"])("div",kn,[Object(a["f"])("div",yn,[Object(a["f"])("h5",Cn,Object(a["q"])(n.title),1),Object(a["f"])("button",{type:"button",class:"btn-close clickable",onClick:t[0]||(t[0]=function(e){return s.closeModal()}),"aria-label":"Close"})]),Object(a["f"])("div",Pn,["goodStuff"===n.mode?(Object(a["k"])(),Object(a["e"])("div",In,[xn,Tn,Object(a["f"])("p",Nn,[Object(a["h"])(c,{type:"check"}),_n]),Object(a["f"])("p",Mn,[Object(a["h"])(c,{type:"times"}),qn,Fn]),Vn,Dn,Bn,Un,Ln,An,Object(a["f"])("p",Rn,[Object(a["h"])(c,{type:"check"}),zn]),Object(a["f"])("p",En,[Object(a["h"])(c,{type:"check"}),Jn]),Object(a["f"])("p",Hn,[Object(a["h"])(c,{type:"check"}),Gn]),Object(a["f"])("p",Yn,[Object(a["h"])(c,{type:"times"}),Xn])])):"salt"===n.mode?(Object(a["k"])(),Object(a["e"])("div",$n,Wn)):"share"===n.mode?(Object(a["k"])(),Object(a["e"])("div",Kn,[Qn,Object(a["f"])("input",{type:"text",class:"form-control",ref:"shareUrl",value:n.vars.shareUrl},null,8,ea),Object(a["f"])("button",{class:"btn btn-primary btn-copy btn-lg mx-auto d-block my-1",onClick:t[1]||(t[1]=function(t){return s.copy(e.$refs.shareUrl,t.target)})},"Kopieren")])):(Object(a["k"])(),Object(a["e"])("div",ta))])])])])}var aa=function(e){return Object(a["m"])("data-v-0a85fad6"),e=e(),Object(a["l"])(),e},ra={key:0,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check",class:"svg-inline--fa fa-check fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},oa=aa((function(){return Object(a["f"])("path",{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},null,-1)})),sa=[oa],ca={key:1,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"times",class:"svg-inline--fa fa-times fa-w-11",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},ia=aa((function(){return Object(a["f"])("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},null,-1)})),la=[ia],ua={key:2,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"share",class:"svg-inline--fa fa-share fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},da=aa((function(){return Object(a["f"])("path",{fill:"currentColor",d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},null,-1)})),fa=[da];function ba(e,t,n,r,o,s){return"check"===n.type?(Object(a["k"])(),Object(a["e"])("svg",ra,sa)):"times"===n.type?(Object(a["k"])(),Object(a["e"])("svg",ca,la)):"share"===n.type?(Object(a["k"])(),Object(a["e"])("svg",ua,fa)):Object(a["d"])("",!0)}var ha={name:"InlineIcon",props:{type:String}};n("d78c");const pa=yt()(ha,[["render",ba],["__scopeId","data-v-0a85fad6"]]);var Oa=pa,ga={name:"modal",components:{InlineIcon:Oa},props:{title:{type:String,default:"info"},mode:{type:String,default:"info"},vars:Object},data:function(){return{classes:"fade-in"}},emits:["close-modal"],methods:{closeModal:function(){var e=this;this.classes="fade-out",setTimeout((function(){e.$emit("close-modal"),e.classes="fade-in"}),450)},copy:function(e,t){e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value);var n=t.classList.toString(),a=t.innerText;t.innerText="Kopiert",t.classList=n+" btn-success",setTimeout((function(){t.classList=n,t.innerText=a}),1e3)}}};n("af13");const ja=yt()(ga,[["render",na],["__scopeId","data-v-24f7ebdf"]]);var va=ja,ma=Object(a["f"])("p",null," The Nutri-Score is a seal that is intended to allow a quick and simplified comparison of similar foods. ",-1),Sa=Object(a["f"])("p",null," The purpose of this calculator is to illustrate the calculation of the Nutri-Score. ",-1),wa=Object(a["f"])("div",null,[Object(a["f"])("a",{href:"#calculate",class:"btn btn-success"},"Calculate now")],-1),ka=[ma,Sa,wa];function ya(e,t,n,r,o,s){return Object(a["k"])(),Object(a["e"])("div",null,ka)}var Ca={name:"Intro"};const Pa=yt()(Ca,[["render",ya]]);var Ia=Pa,xa=function(e){return Object(a["m"])("data-v-95de99a6"),e=e(),Object(a["l"])(),e},Ta={class:"row g-2"},Na={class:"col-auto flex-grow-1"},_a=["for"],Ma=xa((function(){return Object(a["f"])("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"question-circle",class:"svg-inline--fa fa-question-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Object(a["f"])("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"})],-1)})),qa=[Ma],Fa={class:"col-4"},Va={class:"input-group"};function Da(e,t,n,r,o,s){return Object(a["k"])(),Object(a["e"])("div",Ta,[Object(a["f"])("div",Na,[Object(a["f"])("label",{class:"col-form-label",for:n.name},Object(a["q"])(n.labelName),9,_a),n.hasInfoModal?(Object(a["k"])(),Object(a["e"])("span",{key:0,class:"text-primary small clickable ms-1",onClick:t[0]||(t[0]=function(e){return s.openModal()})},qa)):Object(a["d"])("",!0)]),Object(a["f"])("div",Fa,[Object(a["f"])("div",Va,[Object(a["o"])(e.$slots,"default",{},void 0,!0)])])])}var Ba={name:"InputRow",props:{name:String,labelName:String,hasInfoModal:Boolean},emits:["open-modal"],methods:{openModal:function(){this.$emit("open-modal")}}};n("6257");const Ua=yt()(Ba,[["render",Da],["__scopeId","data-v-95de99a6"]]);var La=Ua;function Aa(e,t,n){this.name=e,this.link=t,this.language=n}var Ra=[new Aa("Die wichtigsten Fragen und Antworten zum Nutri-Score","https://www.vzhh.de/sites/default/files/medien/134/dokumente/2019-10_Verbraucherzentrale-Hamburg_Fragen-und-Antworten-zum-Nutri-Score.pdf","de"),new Aa("Development of a new front-of-pack nutrition label in France: the five-colour Nutri-Score","https://www.euro.who.int/__data/assets/pdf_file/0008/357308/PHP-1122-NutriScore-eng.pdf","en")],za=[new Aa(" Warum Nesquik einen so guten Nutri-Score bekommt","https://www.vzhh.de/themen/lebensmittel-ernaehrung/warum-nesquik-einen-so-guten-nutri-score-bekommt","deutsch")],Ea={name:"Calculator",components:{Scale:Zt,Badge:Et,ResultChart:on,ScoreExplanation:vn,Modal:va,InputRow:La,InlineIcon:Oa,Intro:Ia},computed:{resultNavVisible:function(){return document.getElementsByTagName("body")[0].getBoundingClientRect().width>=576},currentTable:function(){switch(this.mode){case"general":return Ke;case"fats":return et;case"cheese":return Qe;case"drinks":return tt;default:return Ke}},currentImage:function(){return this.getImageForMode(this.mode)},classesCalcElem:function(){return this.result?"":" result-hidden"},resultScale:function(){return this.resultTable.nutriprops},currentPointScale:function(){return this.resultTable.pointsToScore},resultColors:function(){var e=this.result.negatives.size+this.result.positives.size===Object.keys(this.colors).length;return e?this.colors:null},modeInfoText:function(){return lt(this.mode)}},data:function(){return{nutritionalInfo:{kJ:0,sugar:0,satFats:0,sodium:0,protein:0,fiber:0,oil:0,goodStuff:0,totalFats:100,salt:0},modalParams:{},name:dt("general"),originalScoreColors:["#008043","#85b931","#f2c011","#e37c13","#d9411a"],colors:{},result:null,mode:"general",tableNames:["general","fats","drinks","cheese"],sources:Ra,furtherReadings:za,resultTable:Object,showModalInfoFor:null,shareUrl:null,updateTime:new Date("2021-01-02").toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})}},mounted:function(){var e=new URL(window.location.href),t=e.searchParams.get("mode");if(t){this.mode=t,this.name=e.searchParams.get("name");for(var n=0,a=Object.entries(this.nutritionalInfo);n<a.length;n++){var r=Object(o["a"])(a[n],1),s=r[0],c=e.searchParams.get(s);c&&(this.nutritionalInfo[s]=c)}this.calculateScore()}},methods:{trans:it,calculateScore:function(){var e=this;this.result=null,this.colors={};for(var t={},n=0,a=Object.entries(this.nutritionalInfo);n<a.length;n++){var r=Object(o["a"])(a[n],2),s=r[0],c=r[1];t[s]=this.normalizeFloat(c)}this.result=this.currentTable.calculateScore(t),console.log("result",this.result),this.result.mode=this.mode,this.result.name=this.name||this.getDisplayNames(this.mode),this.resultTable=this.currentTable,this.$nextTick((function(){setTimeout((function(){scrollTo({top:window.scrollY+e.$refs.resultContainer.getBoundingClientRect().top,behavior:"smooth"})}),25)})),this.shareUrl=this.buildUrl(this.nutritionalInfo,this.mode,this.name)},resetModal:function(){this.showModalInfoFor=null,this.modalParams={}},initModal:function(e,t){this.showModalInfoFor=e,this.modalParams=t},buildUrl:function(e,t,n){var a=new URLSearchParams(Object(re["a"])(Object(re["a"])({},e),{},{mode:t,name:n}));return window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+a.toString()},normalizeFloat:function(e){return parseFloat(e.toString().replace(",","."))},inputDisplayNames:function(e){return ft(e,!0)},displayNames:function(e){return ft(e,at(e,this.result))},getUnit:function(e){return nt(e)},getInputInfoText:function(e){return ut(e)},getPlaceholderText:function(e){return dt(e)},appendPropColor:function(e,t){this.colors[t]=e},getColorForProp:function(e){var t;return null!==(t=this.colors[e])&&void 0!==t?t:null},hasInfoModal:function(e){switch(e){case"goodStuff":case"salt":return!0;default:return!1}},wasUsedInCalculation:function(e){return"protein"!==e||this.result.applyProtein},getImageForMode:function(e){var t="/img/";switch(e){case"general":return"".concat(t,"sandwich.svg");case"fats":return"".concat(t,"butter.svg");case"cheese":return"".concat(t,"cheese-wedge.svg");case"drinks":return"".concat(t,"cup.svg");default:return"".concat(t,"sandwich.svg")}},isValid:function(e){var t=this.nutritionalInfo[e];if(""===t)return!1;t=this.normalizeFloat(t);var n=function(e){return e>=0&&e<=100},a={kJ:function(e){return e>=0&&e<=1e4}};return(a[e]||n)(t)},allFieldsValid:function(){var e,t=!0,n=Object(ae["a"])(this.currentTable.negativeInputs());try{for(n.s();!(e=n.n()).done;){var a=Object(o["a"])(e.value,1),r=a[0];t&=this.isValid(r)}}catch(u){n.e(u)}finally{n.f()}var s,c=Object(ae["a"])(this.currentTable.positiveInputs());try{for(c.s();!(s=c.n()).done;){var i=Object(o["a"])(s.value,1),l=i[0];t&=this.isValid(l)}}catch(u){c.e(u)}finally{c.f()}return t}}};n("7d47");const Ja=yt()(Ea,[["render",ne],["__scopeId","data-v-1182af8d"]]);var Ha=Ja,Ga={name:"App",components:{Calculator:Ha}};n("841a");const Ya=yt()(Ga,[["render",r]]);var Xa=Ya;Object(a["b"])(Xa).mount("#app")},"58a3":function(e,t,n){},"5dc1":function(e,t,n){},"605e":function(e,t,n){},6257:function(e,t,n){"use strict";n("716e")},"716e":function(e,t,n){},"7d47":function(e,t,n){"use strict";n("7f6e")},"7f6e":function(e,t,n){},"841a":function(e,t,n){"use strict";n("251f")},8835:function(e,t,n){},9108:function(e,t,n){},"9b23":function(e,t,n){"use strict";n("58a3")},af13:function(e,t,n){"use strict";n("5dc1")},b21b:function(e,t,n){"use strict";n("9108")},d78c:function(e,t,n){"use strict";n("605e")},ea7e:function(e,t,n){"use strict";n("8835")}});
//# sourceMappingURL=app.e97bcec7.js.map